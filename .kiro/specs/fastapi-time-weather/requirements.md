# وثيقة المتطلبات

## مقدمة

هذا المشروع عبارة عن تطبيق FastAPI يوفر خدمات للحصول على معلومات الوقت والطقس للمدن المختلفة. يتضمن التطبيق واجهتي برمجة تطبيقات (APIs): الأولى للحصول على الوقت وفرق التوقيت بين مدينتين، والثانية للحصول على الحالة الجوية لمدينة معينة.

## المتطلبات

### المتطلب 1: API للوقت وفرق التوقيت

**قصة المستخدم:** كمطور أو مستخدم للتطبيق، أريد الحصول على الوقت الحالي في مدينتين مختلفتين وحساب فرق التوقيت بينهما، حتى أتمكن من معرفة الأوقات المحلية والفرق الزمني.

#### معايير القبول

1. WHEN يتم إرسال طلب GET إلى `/time-comparison` مع معاملي `city1` و `city2` THEN النظام SHALL يرجع الوقت الحالي لكلا المدينتين
2. WHEN يتم إرسال طلب صحيح THEN النظام SHALL يحسب ويرجع فرق التوقيت بين المدينتين بالساعات
3. IF تم إرسال اسم مدينة غير صحيح أو غير موجود THEN النظام SHALL يرجع رسالة خطأ مناسبة مع كود الحالة 400
4. WHEN يتم إرجاع البيانات THEN النظام SHALL يعرض الوقت بتنسيق واضح ومقروء
5. WHEN يتم حساب فرق التوقيت THEN النظام SHALL يأخذ في الاعتبار التوقيت الصيفي إذا كان مطبقاً

### المتطلب 2: API للحالة الجوية

**قصة المستخدم:** كمطور أو مستخدم للتطبيق، أريد الحصول على الحالة الجوية الحالية لمدينة معينة، حتى أتمكن من معرفة الطقس والظروف الجوية.

#### معايير القبول

1. WHEN يتم إرسال طلب GET إلى `/weather` مع معامل `city` THEN النظام SHALL يرجع الحالة الجوية الحالية للمدينة
2. WHEN يتم إرجاع بيانات الطقس THEN النظام SHALL يتضمن درجة الحرارة ووصف الحالة الجوية والرطوبة
3. IF تم إرسال اسم مدينة غير صحيح أو غير موجود THEN النظام SHALL يرجع رسالة خطأ مناسبة مع كود الحالة 400
4. WHEN يتم الاتصال بخدمة الطقس الخارجية THEN النظام SHALL يتعامل مع أخطاء الشبكة بشكل مناسب
5. WHEN تفشل خدمة الطقس الخارجية THEN النظام SHALL يرجع رسالة خطأ واضحة مع كود الحالة 503

### المتطلب 3: إعداد وتكوين التطبيق

**قصة المستخدم:** كمطور، أريد تطبيق FastAPI مُعد بشكل صحيح مع التوثيق التلقائي، حتى أتمكن من تطوير واختبار واستخدام الواجهات بسهولة.

#### معايير القبول

1. WHEN يتم تشغيل التطبيق THEN النظام SHALL يوفر واجهة Swagger UI للتوثيق التفاعلي
2. WHEN يتم الوصول إلى الجذر `/` THEN النظام SHALL يرجع رسالة ترحيب أو معلومات أساسية عن التطبيق
3. WHEN يحدث خطأ في التطبيق THEN النظام SHALL يسجل الأخطاء بشكل مناسب
4. WHEN يتم تشغيل التطبيق THEN النظام SHALL يتضمن معالجة مناسبة للاستثناءات
5. IF تم إرسال طلب بتنسيق خاطئ THEN النظام SHALL يرجع رسالة خطأ واضحة مع كود الحالة المناسب